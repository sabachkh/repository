1) Ollama â€” áƒ¨áƒ”áƒ›áƒáƒ¬áƒ›áƒ”áƒ‘áƒ áƒ“áƒ áƒ›áƒáƒ“áƒ”áƒšáƒ”áƒ‘áƒ˜ (áƒ”áƒ áƒ—áƒ¯áƒ”áƒ áƒáƒ“áƒáƒ“)

PyCharm Terminal (PowerShell): 
& "$env:LOCALAPPDATA\Programs\Ollama\ollama.exe" --version

& "$env:LOCALAPPDATA\Programs\Ollama\ollama.exe" pull gemma3:4b
& "$env:LOCALAPPDATA\Programs\Ollama\ollama.exe" pull nomic-embed-text
& "$env:LOCALAPPDATA\Programs\Ollama\ollama.exe" list

2) PyCharm áƒáƒ áƒáƒ”áƒ¥áƒ¢áƒ˜ áƒ“áƒ Virtualenv

PyCharm â†’ New Project

Virtualenv (.venv) (áƒáƒ•áƒ¢áƒáƒ›áƒáƒ¢áƒ£áƒ áƒáƒ“)

Terminal-áƒ¨áƒ˜ áƒ£áƒœáƒ“áƒ áƒ”áƒ¬áƒ”áƒ áƒáƒ¡ (.venv) âœ…

ğŸ“Œ áƒ’áƒáƒ›áƒáƒ˜áƒ§áƒ”áƒœáƒ” Python 3.11/3.12.

3) Python áƒáƒáƒ™áƒ”áƒ¢áƒ”áƒ‘áƒ˜ (áƒ”áƒ áƒ—áƒ¯áƒ”áƒ áƒáƒ“áƒáƒ“)

Terminal-áƒ¨áƒ˜:
python -m pip install -U langchain langchain-core langchain-community langchain-text-splitters langchain-ollama chromadb langchain-chroma pypdf streamlit

python -m pip list (áƒ áƒáƒ’áƒáƒ  áƒœáƒáƒ®áƒ áƒ áƒ áƒáƒ áƒ˜áƒ¡ áƒ“áƒáƒ§áƒ”áƒœáƒ”áƒ‘áƒ£áƒšáƒ˜. áƒ¨áƒ”áƒ’áƒ˜áƒ«áƒšáƒ˜áƒ áƒ’áƒáƒ›áƒáƒ˜áƒ§áƒ”áƒœáƒ áƒ¡áƒ£áƒ áƒ•áƒ˜áƒšáƒ˜áƒ¡áƒáƒ›áƒ”áƒ‘áƒ ).

4) áƒáƒ áƒáƒ”áƒ¥áƒ¢áƒ˜áƒ¡ áƒ¡áƒ¢áƒ áƒ£áƒ¥áƒ¢áƒ£áƒ áƒ (áƒáƒ£áƒªáƒ˜áƒšáƒ”áƒ‘áƒšáƒáƒ“ áƒáƒ¡áƒ”)

Project root-áƒ¨áƒ˜ áƒ’áƒáƒáƒ™áƒ”áƒ—áƒ”:
LangChANDOllama/
  data/
    book.pdf
  chroma_db/
  ingest.py
  streamlit_app.py

5) ingest.py:
from pathlib import Path
from langchain_community.document_loaders import PyPDFLoader
from langchain_text_splitters import RecursiveCharacterTextSplitter
from langchain_ollama import OllamaEmbeddings
from langchain_chroma import Chroma

BASE_DIR = Path(__file__).resolve().parent
PDF_PATH = BASE_DIR / "data" / "book.pdf"
DB_DIR = BASE_DIR / "chroma_db"
COLLECTION = "book"

def main():
    docs = PyPDFLoader(str(PDF_PATH)).load()

    splitter = RecursiveCharacterTextSplitter(chunk_size=1000, chunk_overlap=150)
    chunks = splitter.split_documents(docs)

    embeddings = OllamaEmbeddings(model="nomic-embed-text")

    Chroma.from_documents(
        documents=chunks,
        embedding=embeddings,
        persist_directory=str(DB_DIR),
        collection_name=COLLECTION
    )

    print("OK âœ… Indexed:", len(chunks), "chunks")

if __name__ == "__main__":
    main()

5.1 ingest.py áƒ’áƒáƒ¨áƒ•áƒ”áƒ‘áƒ

PyCharm â†’ Run ingest.py

6) streamlit_app.py:
from pathlib import Path
import streamlit as st
from langchain_chroma import Chroma
from langchain_ollama import ChatOllama, OllamaEmbeddings
from langchain_core.prompts import ChatPromptTemplate

BASE_DIR = Path(__file__).resolve().parent
DB_DIR = BASE_DIR / "chroma_db"
COLLECTION = "book"

st.set_page_config(page_title="RAG Q&A", layout="centered")
st.title("RAG Q&A (LangChain + Ollama + ChromaDB)")
st.write("Ask a question. The answer must come only from the indexed document.")

@st.cache_resource
def load_rag():
    embeddings = OllamaEmbeddings(model="nomic-embed-text")
    db = Chroma(
        persist_directory=str(DB_DIR),
        collection_name=COLLECTION,
        embedding_function=embeddings
    )

    retriever = db.as_retriever(search_kwargs={"k": 5})
    llm = ChatOllama(model="gemma3:4b", temperature=0)

    prompt = ChatPromptTemplate.from_messages([
        ("system",
         "Answer ONLY using the provided CONTEXT from the document. "
         "If the answer is not in the CONTEXT, say: 'I can't find the exact answer in this document.' "
         "Do NOT invent information."),
        ("human", "Question: {question}\n\nCONTEXT:\n{context}")
    ])

    return retriever, llm, prompt

retriever, llm, prompt = load_rag()

q = st.text_area("Prompt", height=120, placeholder="Type your question here...")

if st.button("Get Answer"):
    q = q.strip()
    if not q:
        st.warning("Type a question first.")
    else:
        docs = retriever.invoke(q)
        context = "\n\n".join(d.page_content for d in docs)

        messages = prompt.format_messages(question=q, context=context)
        answer = llm.invoke(messages).content

        st.subheader("Answer")
        st.write(answer)

        with st.expander("Show retrieved context"):
            st.text(context)

7) Streamlit áƒ’áƒáƒ¨áƒ•áƒ”áƒ‘áƒ Run áƒ¦áƒ˜áƒšáƒáƒ™áƒ˜áƒ— (Terminal-áƒ˜áƒ¡ áƒ’áƒáƒ áƒ”áƒ¨áƒ”)

Run â†’ Edit Configurationsâ€¦

Type: Python

dropdown áƒ¡áƒáƒ“áƒáƒª áƒ¬áƒ”áƒ áƒ˜áƒ script â†’ áƒ¨áƒ”áƒªáƒ•áƒáƒšáƒ” Module name

Module name: streamlit

Parameters: run streamlit_app.py

Working directory: áƒáƒ áƒáƒ”áƒ¥áƒ¢áƒ˜áƒ¡ root (áƒ¡áƒáƒ“áƒáƒª áƒ”áƒ¡ áƒ¤áƒáƒ˜áƒšáƒ”áƒ‘áƒ˜ áƒ“áƒ”áƒ•áƒ¡)

áƒ›áƒáƒ’:
C:\Users\gogis\OneDrive\Desktop\LangChANDOllama

áƒ“áƒáƒáƒ­áƒ˜áƒ áƒ” Run â–¶ï¸
áƒ™áƒáƒœáƒ¡áƒáƒšáƒ¨áƒ˜ áƒ’áƒáƒ›áƒáƒ©áƒœáƒ“áƒ”áƒ‘áƒ áƒšáƒ˜áƒœáƒ™áƒ˜ (áƒ®áƒ¨áƒ˜áƒ áƒáƒ“ http://localhost:8501) áƒ“áƒ áƒ’áƒáƒ®áƒ¡áƒœáƒ˜.

----------------------------------------------------------------------------------------------------------------------
âœ… 5 Questions (PDF-áƒ˜áƒ“áƒáƒœ áƒ–áƒ£áƒ¡áƒ¢áƒ˜ áƒáƒáƒ¡áƒ£áƒ®áƒ”áƒ‘áƒ˜ áƒ£áƒœáƒ“áƒ áƒ˜áƒáƒáƒ•áƒáƒ¡)

How much money does Della have at the start (exact amount)?

What are the two things Jim and Della are most proud of?

From what to what did Jimâ€™s salary change?

How much does Della receive for selling her hair?

What gift does Della buy for Jim (exact item)?

âš ï¸ 2 Trap Questions (PDF-áƒ¨áƒ˜ áƒáƒ  áƒ£áƒœáƒ“áƒ áƒ˜áƒ§áƒáƒ¡ â†’ áƒ£áƒœáƒ“áƒ áƒ—áƒ¥áƒ•áƒáƒ¡ â€œI canâ€™t findâ€¦â€)

What is Jimâ€™s middle name?

Who is Cristiano Ronaldo?
